Adapted from https://github.com/uiwjs/react-codemirror which is licensed under the MIT license.